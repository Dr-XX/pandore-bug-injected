<html>
<head>
<title>PANDORE OPERATORS</title>
<style>
body { padding: 1em 1em 1em 30px; }
</style>
</head>
<body background="#ffffff">

<center>
<table border=0 width=100%>
<tr>
<td align=left width=50%><b><i>PANDORE Version 6</i></b></td>
<td align=right width=50%><b><i>GREYC-IMAGE</i></b></td></tr></table>
</center>
<hr>

<!---------------------------------- -->
<h1>phistogramequalization</h1>
<!---------------------------------- -->
<hr noshade size=1 width=100 align=left><br>

Performs contrast stretching using histogram equalization.

<br><br><hr noshade size=1 width=100 align=left><br>

<!---------------------------------- -->
<h3>Synopsis</h3>
<!---------------------------------- -->
<tt>
<b>phistogramequalization</b> <i>min</i> <i>max</i> [<i>-m mask</i>] [<i>im_in</i>|-] [<i>im_out</i>|-]
</tt>

<!---------------------------------- -->
<h3>Description</h3>
<!---------------------------------- -->
<p><b>phistogramequalization</b> performs a gray-levels transformation
by forcing the gray-levels to spread over the entire intensity range between
<i>min</i> and <i>max</i>.
As a consequence, histogram equalization expands gray-levels where information
is important and compresses gray-levels where the information is low.<br>
This transform is not likely to work well on input
images that have dark gray-levels distribution.</p>

<p>The new output bounds of the output gray-levels are given by
the parameter <i>min</i> and <i>max</i>.</p>

<p>The equalization has the form:</p>
<ol>
<li>Compute the cumulated histogram for <i>im_in</i>;
<li>Normalize histogram between [0..1];
<li>Build output image <i>im_out</i> with for each pixel 'p':
  <pre>
    im_out[p] = HC[im_in[p]]*(max-min);
  </pre>
</ol>

<p>For color and multispectral images, the transform
uses the marginal approach: it is applied on each band individually.</p>

<!---------------------------------- -->
<h3>Parameters</h3>
<!---------------------------------- -->
<ul>
<li><p><i>min</i> and <i>max</i> specify the bounds of the output
pixel value. They are related to the type of the input image.
<br>
<b>Note</b>: if <i>min &gt; max</i> then min and max are set with
the minimum and maximum values of the input image type; for example,
0 and 255 for Uchar images.
</p>
</ul>

<!---------------------------------- -->
<h3>Inputs</h3>
<!---------------------------------- -->
<ul>
<li><i>im_in</i>: an image.
</ul>

<!---------------------------------- -->
<h3>Outputs</h3>
<!---------------------------------- -->
<ul>
<li><i>im_out</i>: an image with the same properties as im_in.
</ul>

<!---------------------------------- -->
<h3>Result</h3>
<!---------------------------------- -->
<p>Returns SUCCESS or FAILURE in case of invalid parameter values.</p>

<!---------------------------------- -->
<h3>Examples</h3>
<!---------------------------------- -->
<p>Equalizes histogram with the new bounds [0,255]:</p>
<pre>
    phistogramequalization 20 200 tangram.pan a.pan
</pre>

<p>Equalizes histogram with the same bounds than the input image:</p>
<pre>
    phistogramequalization 0 -1 tangram.pan a.pan
</pre>

<!---------------------------------- -->
<h3>See also</h3>
<!---------------------------------- -->
<a href="../operatorsP0.html#luttransform">Lut transform</a>,
<a href="./phistogramspecification.html">phistogramspecification</a>

<!---------------------------------- -->
<h3>C++ prototype</h3>
<!---------------------------------- -->
<tt>
Errc PHistogramEqualization( const Img2duc &amp;im_in, Img2duc &amp;im_out, float min, float max );
</tt>

<!---------------------------------- -->
<h3>Version fran&ccedil;aise</h3>
<!---------------------------------- -->
<p>Rehaussement de contraste par &eacute;galisation d'histogramme.</p>

<hr>
<p>
<!---------------------------------- -->
<address>
Author: R&eacute;gis Clouard
</address>
<!---------------------------------- -->
</p>
</body>
</html>
