<html>
<head>
<title>PANDORE OPERATORS</title>
<style>
body { padding: 1em 1em 1em 30px; }
</style>
</head>
<body background="#ffffff">

<center>
<table border=0 width=100%>
<tr>
<td align=left width=50%><b><i>PANDORE Version 6</i></b></td>
<td align=right width=50%><b><i>GREYC-IMAGE</i></b></td></tr></table>
</center>
<hr>

<!---------------------------------- -->
<h1>phistogramspecification</h1>
<!---------------------------------- -->
<hr noshade size=1 width=100 align=left><br>

Performs contrast stretching using histogram specification.

<br><br><hr noshade size=1 width=100 align=left><br>

<!---------------------------------- -->
<h3>Synopsis</h3>
<!---------------------------------- -->
<tt>
<b>phistogramspecification</b> [<i>-m mask</i>] [<i>im_in1</i>|-] [<i>im_in2</i>|-] [<i>im_out</i>|-]
</tt>

<!---------------------------------- -->
<h3>Description</h3>
<!---------------------------------- -->
<p><b>phistogramspecification</b> performs a gray-levels transformation
of the input image <i>im_in1</i> by using a particular histogram shape
given by the reference image <i>im_in2</i>.

<p>This operator is useful to enhance a list of images of the same scene.
The first step is to enhance histogram of one of the image using particular techniques,
and the other step is to apply the same histogram to the remainder images of the list.<p>

</p>
<p>The histogram specification is based on the following algorithm:</p>
<ol>
<li>compute normalized cumulated histogram hc1 of input image <i>im_in1</i>;
<li>compute normalized cumulated histogram hc2 of the reference image <i>im_in2</i>;
<li>for each pixel 'p' of the input image:
<ol>
	<li>s=hc1[im_in1[p]];
	<li>Search for i such as hc2[i]=s;
	<li>im_out[p]=i.
</ol>
</ol>

<p>For color and multispectral images, the transform
uses the marginal approach: it is applied on each band individually.</p>

<!---------------------------------- -->
<h3>Inputs</h3>
<!---------------------------------- -->
<ul>
<li><i>im_in</i>: an image.
</ul>

<!---------------------------------- -->
<h3>Outputs</h3>
<!---------------------------------- -->
<ul>
<li><i>im_out</i>: an image with the same properties as im_in.
</ul>

<!---------------------------------- -->
<h3>Result</h3>
<!---------------------------------- -->
<p>Returns SUCCESS or FAILURE in case of incompatible input images.</p>

<!---------------------------------- -->
<h3>Examples</h3>
<!---------------------------------- -->
<p>Applies the histogram transform to tangram.pan from a reference image
built with a logarithmic transform of tangram.pan.</p>
<pre>
   plogtransform 0 0 255 tangram.pan reference.pan
   phistogramspecification tangram.pan reference.pan a.pan
</pre>

<!---------------------------------- -->
<h3>See also</h3>
<!---------------------------------- -->
<a href="../operatorsP0.html#luttransform">Lut transform</a>,
<a href="./phistogramequalization.html">phistogramequalization</a>

<!---------------------------------- -->
<h3>C++ prototype</h3>
<!---------------------------------- -->
<tt>
Errc PHistogramSpecification( const Img2duc &amp;im_in1, const Img2duc &amp;im_in2, Img2duc &amp;im_out );
</tt>

<!---------------------------------- -->
<h3>Version fran&ccedil;aise</h3>
<!---------------------------------- -->
<p>Rehaussement de contraste par sp&eacute;cification d'histogramme.</p>

<hr>
<p>
<!---------------------------------- -->
<address>
Author: R&eacute;gis Clouard
</address>
<!---------------------------------- -->
</p>
</body>
</html>
