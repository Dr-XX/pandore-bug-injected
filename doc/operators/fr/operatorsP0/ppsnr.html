<html>
<head>
<title>OPERATEURS PANDORE</title>
<style>
body { padding: 1em 1em 1em 30px; }
</style>
</head>

<body background="#ffffff"><center>
<table border=0 width=100%>
<tr>
<td align=left width=50%><b><i>PANDORE Version 6</i></b></td>
<td align=right width=50%><b><i>GREYC-IMAGE</i></b></td></tr></table>
</center>
<hr>

<!---------------------------------- -->
<h1>ppsnr</h1>
<!---------------------------------- -->
<hr noshade size=1 width=100 align=left><br>

Calcul du rapport signal sur bruit en cr&ecirc;te.

<br><br><hr noshade size=1 width=100 align=left><br>

<!---------------------------------- -->
<h3>Synopsis</h3>
<!---------------------------------- -->
<tt>
<b>ppsnr</b> <i>max</i> [<i>im1_in</i>|-] [<i>im2_in</i>|-]
</tt>

<!---------------------------------- -->
<h3>Description</h3>
<!---------------------------------- -->
<p>L'op&eacute;rateur <b>ppsnr</b> mesure rapport signal sur bruit en cr&ecirc;te
entre l'image initiale <i>im_in1</i> et sa version restaur&eacute;e ou am&eacute;lior&eacute;e
<i>im_in2</i>.<br>
Le PSNR (Peak Signal to Noise Ratio) est le rapport entre la puissance
maximale du signal et la puissance du bruit qui affecte
la fidelit&eacute; de sa repr&eacute;sentation.
Il est d&eacute;fini par l'erreur quadratique moyenne (MSE) entre les deux images
d'entr&eacute;e o&ugrave; <i>im1_in</i> est l'image initiale
et <i>im2_in</i> est la version restaur&eacute;e ou am&eacute;lior&eacute;e
de <i>im1_in</i>.<br>
En cons&eacute;quence, plus le PSNR est &eacute;lev&eacute;, meilleure est le signal
et donc le traitement de restauration ou d'am&eacute;lioration.</p>

<p>Parce que les valeurs peuvent occuper une tr&egrave;s grande plage de valeur,
le PSNR est exprim&eacute;e en d&eacute;cibel (dB).
Les valeurs typiques pour le PSNR d'une compression d'image
sont comprises entre 30 and 40 dB.</p>

<p>Le PSNR est d&eacute;fini comme suit :</p>
<pre>
   PSNR = 10 * log<sub>10</sub>( (max*max)/MSE);
   with MSE=sum((im_in1-im_in2)<sup>2</sup>)/N
</pre>
<p>o&ugrave; <i>max</i> est la valeur de pixel maximale
et N le nombre total de pixel de l'image d'entr&eacute;e.
Si <i>max</i>=-1 alors max=Max(ims_in1)-Min(im_in1)).</p>

<p>Les images d'entr&eacute;e <i>im_in1</i> et <i>im_in2</i> doivent avoir 
les m&ecirc;mes dimensions et le m&ecirc;me type.</p>

<p>Pour les images couleur et multispectrales, la d&eacute;finition du PSNR est
la m&ecirc;me sauf que l'erreur quadratique moyenne est la somme
des erreurs sur toutes les bands.</p>

<!-- -------------------------------- -->
<h3>Param&eagrave;tre</h3>
<!-- -------------------------------- -->
<ul>
<li><i>max</i> est la valeur de pixel maximale. Typiquement, max=255 pour
les images de Uchar.
<br>Si <i>max</i>=-1 alors max=Max(ims_in1)-Min(im_in1)).</p>
</ul>

<!---------------------------------- -->
<h3>Entr&eacute;es</h3>
<!---------------------------------- -->
<ul>
<li><i>im_in1</i>: une image.
<li><i>im_in2</i>: une image (une version restaur&eacute;e ou am&eacute;lior&eacute;e de im_in1).
</ul>

<!---------------------------------- -->
<h3>R&eacute;sultat</h3>
<!---------------------------------- -->
<p>Retourne une valeur r&eacute;elle positive exprim&eacute;e en d&eacute;cibel (dB).<br>
(Utiliser <code>pstatus</code> pour r&eacute;cup&eacute;rer cette valeur).</p>

<!---------------------------------- -->
<h3>Exemples</h3>
<!---------------------------------- -->
<p>Ajoute un bruit gaussien de moyenne  0 et d'&eacute;cart type 1.5 &agrave;
l'image tangram.pan et puis calcule le PSNR pou un filtre
moyenneur :</p>
<pre>
   paddnoise 1 0 1.5 tangram.pan a.pan
   pmeanfilter 2 a.pan i1.pan
   ppsnr 255 tangram.pan i1.pan
   pstatus
</pre>

<!---------------------------------- -->
<h3>Voir aussi</h3>
<!---------------------------------- -->
<a href="../operatorsP0.html#evaluation">Evaluation</a>,
<a href="./pmse.html">pmse</a>,
<a href="./psnr.html">psnr</a>

<!---------------------------------- -->
<h3>Prototype C++</h3>
<!---------------------------------- -->
<tt>
Errc PPSNR( const Img2duc &amp;im_in1, const Img2duc &amp;im_in2, Float max );
</tt>

<hr>
<p>
<!---------------------------------- -->
<address>
Auteur: R&eacute;gis Clouard
</address>
<!---------------------------------- -->

</body>
</html>
