<html>
<head>
<title>OPERATEURS PANDORE</title>
<style>
body { padding: 1em 1em 1em 30px; }
</style>
</head>

<body background="#ffffff">
<center>
<table border=0 width=100%>
<tr>
<td align=left width=50%><b><i>PANDORE Version 6</i></b></td>
<td align=right width=50%><b><i>GREYC-IMAGE</i></b></td></tr></table>
</center>
<hr>

<!---------------------------------- -->
<h1>pregistrationPDE</h1>
<!---------------------------------- -->
<hr noshade size=1 width=100 align=left><br>

Estimation du champ de d&eacute;placement entre deux images.

<br><br><hr noshade size=1 width=100 align=left><br>

<!---------------------------------- -->
<h3>Synopsis</h3>
<!---------------------------------- -->
<tt>
<b>pregistrationPDE</b> <i>smoothness precision</i> [<i>im_in1</i>|-] [<i>im_in2</i>|-] [<i>im_out</i>|-]
</tt>

<!---------------------------------- -->
<h3>Description</h3>
<!---------------------------------- -->
<p>Cet op&eacute;rateur permet d'estimer un champ 2D de d&eacute;placement U entre deux images I1 et I2.
Il se base sur la minimisation du crit&egrave;re :</p>
<pre>
E(U) = int&eacute;grale(|I1(p)-I2(p+U)| + smoothness*Laplac(U)).
</pre>

<p>Cette minimisation est effectu&eacute;e par une succession de descente EDP &agrave; des
&eacute;chelles d'images diff&eacute;rentes.</p>

<p>Le champ calcul&eacute; correspond au d&eacute;placement de im_in1 vers im_in2.<p>

<!---------------------------------- -->
<h3>Param&egrave;tres</h3>
<!---------------------------------- -->
<p>Les param&egrave;tres de l'op&eacute;rateur contr&ocirc;lent l'estimation du champ de vecteurs d&eacute;placement :
<ul>
<li><i>smoothness</i> d&eacute;finit la r&eacute;gularit&eacute; du champ calcul&eacute;.
Une valeur de 0 correspondant &agrave; aucune r&eacute;gularit&eacute; particuli&egrave;re,
0.1 correspond &agrave; une r&eacute;gularit&eacute; moyenne, et 0.9, une tr&egrave;s forte r&eacute;gularit&eacute;
(champ quasi-constant).
Si le d&eacute;placement entre deux images est connu pour &ecirc;tre rigide (translation),
une forte r&eacute;gularit&eacute; est recommand&eacute;e.
Dans le cas plus g&eacute;n&eacute;gal d'un d&eacute;placement non rigide, une r&eacute;gularit&eacute; minimum est conseill&eacute;e.

<li><i>precision</i> d&eacute;finit le facteur de pr&eacute;cision du calcul.
Une pr&eacute;cision &eacute;lev&eacute;e entraine des calculs plus long (le seuil de d&eacute;cision de la convergence
pour chaque &eacute;chelle sera plus fin). Une valeur de 0.9 d&eacute;finit d&eacute;j&agrave; une bonne
pr&eacute;cision de calcul.
</ul>
</p>

<!---------------------------------- -->
<h3>Entr&eacute;es</h3>
<!---------------------------------- -->
<ul>
<li><i>im_in1</i>: une image 2D (Img2d,Imc2d ou Imx2d).
<li><i>im_in1</i>: une image 2D (Img2d,Imc2d ou Imx2d).
</ul>

<!---------------------------------- -->
<h3>Sorties</h3>
<!---------------------------------- -->
<ul>
<li><i>im_out</i> est une image multispectrale 2D de Float (Imx2dsf) comprenant deux bandes correspondantes
aux composantes (vx,vy) des vecteurs d&eacute;placements estim&eacute;s.
</ul>

<!---------------------------------- -->
<h3>R&eacute;sultat</h3>
<!---------------------------------- -->
<p>Retourne SUCCESS ou FAILURE.</p>

<!---------------------------------- -->
<h3>Exemple</h3>
<!---------------------------------- -->
<p>Produit une translation horizontale de l'image "tangram.pan" 
puis affiche les vecteurs de d&eacute;placements
<pre>
   translation 0 10 tangram.pan tangram1.pan
   pregistrationPDE 0.1 0.9 tangram.pan tangram1.pan a.pan
   pplotquiver 800 800 10 -20 a.pan| visu
</pre>

<!---------------------------------- -->
<h3>Voir aussi</h3>
<!---------------------------------- -->
<a href="../operatorsP0.html#motion">Mouvement</a>

<!---------------------------------- -->
<h3>Prototype C++</h3>
<!---------------------------------- -->
<tt>
Errc PRegistrationPDE( const Imx2d &amp;ims1, const Imx2d &amp;ims2, Img2duc &amp;imd, Float smoothness, Float precision );<br>
</tt>

<!---------------------------------- -->
<h3>Avertissement</h3>
<!---------------------------------- -->
<p><font color="red">Ce module est soumis &agrave; la licence 
<a href="http://www.cecill.info/licences/Licence_CeCILL_V1.1-US.html">CeCiLL</a>, et ne
peut pas &ecirc;tre utilis&eacute; dans une application commerciale sous une licence propri&eacute;taire.
En particulier, il utilise les fonctionnalit&eacute;s de la biblioth&egrave;que
<a href="http://cimg.sourceforge.net">CImg</a>, soumise &eacute;galement &agrave; la licence
<a href="http://www.cecill.info/licences/Licence_CeCILL_V1.1-US.html">CeCiLL</a>.</p></font>

<hr>
<p>
<!---------------------------------- -->
<address>
Auteur: D. Tschumperl&eacute;
</address>
<!---------------------------------- -->

</body>
</html>
