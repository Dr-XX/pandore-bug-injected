<html>
<head>
<title>PANDORE OPERATORS</title>
<style>
body { padding: 1em 1em 1em 30px; }
</style>
</head>

<body background="#ffffff"><center>
<table border=0 width=100%>
<tr>
<td align=left width=50%><b><i>PANDORE Version 6</i></b></td>
<td align=right width=50%><b><i>GREYC-IMAGE</i></b></td></tr></table>
</center>
<hr>

<!---------------------------------- -->
<h1>ppsnr</h1>
<!---------------------------------- -->
<hr noshade size=1 width=100 align=left><br>

Computes the Peak Signal to Noise Ratio.

<br><br><hr noshade size=1 width=100 align=left><br>

<!---------------------------------- -->
<h3>Synopsis</h3>
<!---------------------------------- -->
<tt>
<b>ppsnr</b> <i>max</i> [<i>im1_in</i>|-] [<i>im2_in</i>|-]
</tt>

<!---------------------------------- -->
<h3>Description</h3>
<!---------------------------------- -->
<p><b>ppsnr</b> measures the Peak Signal to Noise ration between
the initial image <i>im_in1</i>
and the restored or enhanced image <i>im_in2</i>.<br>
The Peak Signal to Noise Ratio (PSNR) is the ratio between the maximum
possible power of a signal and the power of corrupting noise that affects
the fidelity of its representation.
It is defined via the mean squared error (MSE) between the two input images
where <i>im1_in</i> is the input image and <i>im2_in</i> is the
restored or enhanced version of <i>im1_in</i>.<br>
Consequently, the higher is the PSNR, the better is the signal and consequently
the related image processing (restoration or enhancement).</p>

<p>Because many signals have a very wide dynamic range, PSNR is
expressed in terms of decibel (dB).
Typical values for the PSNR in image compression are between 30 and 40 dB.</p>

<p>PSNR is defined as follows:</p>
<pre>
   PSNR = 10 * log<sub>10</sub>( (max*max)/MSE);
   with MSE=sum((im_in1-im_in2)<sup>2</sup>)/N
</pre>
<p>where <i>max</i> is the maximum pixel value of the input images (not greater
than the possible maximum value of the input image) and N is the total number of pixels
of the input image. If <i>max</i>=-1 then max=Max(ims_in1)-Min(im_in1)).</p>

<p>Input images <i>im_in1</i> and <i>im_in2</i> must have the same dimensions
and the same type.</p>

<p>For color images or multispectral images, the definition of PSNR is
the same except that the MSE is the sum over all squared value differences divided
by image size and by the number of bands (ie. 3 for the color images).</p>

<!-- -------------------------------- -->
<h3>Parameter</h3>
<!-- -------------------------------- -->
<ul>
<li><i>max</i> is the maximal pixel value. Typically, max=255 for
Uchar images.
<br>If <i>max</i>=-1 then max=Max(ims_in1)-Min(im_in1)).</p>
</ul>

<!---------------------------------- -->
<h3>Inputs</h3>
<!---------------------------------- -->
<ul>
<li><i>im_in1</i>: an image.
<li><i>im_in2</i>: an image (restored or enhanced version of im_in1).
</ul>

<!---------------------------------- -->
<h3>Result</h3>
<!---------------------------------- -->
<p>Returns the ratio value as a positive real value expressed in dB.<br>
(Use <code>pstatus</code> to get this value).</p>

<!---------------------------------- -->
<h3>Examples</h3>
<!---------------------------------- -->
<p>Adds gaussian noise with mean 0 and standard deviation 1.5
to tangram.pan image and then computes the PSNR for the
meanfilter smoothing operator:</p>
<pre>
   paddnoise 1 0 1.5 tangram.pan a.pan
   pmeanfiltering 2 a.pan i1.pan
   ppsnr 255 tangram.pan i1.pan
   pstatus
</pre>

<!---------------------------------- -->
<h3>See also</h3>
<!---------------------------------- -->
<a href="../operatorsP0.html#evaluation">Evaluation</a>,
<a href="./pmse.html">pmse</a>,
<a href="./psnr.html">psnr</a>

<!---------------------------------- -->
<h3>C++ prototype</h3>
<!---------------------------------- -->
<tt>
Errc PPSNR( const Img2duc &amp;im_in1, const Img2duc &amp;im_in2, Float max );
</tt>

<!---------------------------------- -->
<h3>Version fran&ccedil;aise</h3>
<!---------------------------------- -->
<p>Calcul du rapport signal sur bruit en cr&ecirc;te.</p>

<hr>
<p>
<!---------------------------------- -->
<address>
Author: R&eacute;gis Clouard
</address>
<!---------------------------------- -->

</body>
</html>